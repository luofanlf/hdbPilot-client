# CI环境专用的Gradle配置
# 这个文件包含所有CI性能优化设置

# ===== 基础配置 =====
org.gradle.daemon=false
org.gradle.parallel=true
org.gradle.workers.max=2
org.gradle.caching=true
org.gradle.configuration-cache=true

# ===== JVM优化 =====
org.gradle.jvmargs=-Xmx4096m -XX:MaxMetaspaceSize=512m -XX:+HeapDumpOnOutOfMemoryError -XX:+UseG1GC -XX:MaxGCPauseMillis=200 -Dfile.encoding=UTF-8

# ===== 网络优化 =====
org.gradle.internal.http.connectionTimeout=180000
org.gradle.internal.http.socketTimeout=180000
org.gradle.internal.publish.checksums.insecure=true

# ===== 编译优化 =====
android.enableJetifier=false
android.enableR8.fullMode=false
android.enableBuildCache=true
android.enableResourceOptimizations=true
android.enableD8.desugaring=true

# ===== Kotlin优化 =====
kotlin.incremental=true
kotlin.incremental.useClasspathSnapshot=true
kotlin.caching.enabled=true
kotlin.parallel.tasks.in.project=true
kotlin.build.report.enable=true

# ===== 依赖优化 =====
org.gradle.dependency.verification=lenient
org.gradle.unsafe.configuration-cache=true
org.gradle.offline=false

# ===== 构建扫描 =====
org.gradle.scan.acceptLicense=true
org.gradle.scan.captureGoalInputFiles=true
org.gradle.scan.captureTaskInputFiles=true

# ===== 缓存策略 =====
org.gradle.vfs.watch=false
org.gradle.vfs.verbose=false 